<div class="container">
    <h2>All Products</h2>

    <div *ngIf="loading" class="loading">Loading products...</div>
    <div *ngIf="errorMsg" class="error">{{ errorMsg }}</div>

    <div class="product-grid">
        <div *ngFor="let p of products" class="product-card">
            <!-- image container for overlay -->
            <div class="image-wrapper">
                <img [src]="p.imageUrls && p.imageUrls.length > 0 ? ('http://localhost:8080' + p.imageUrls[0]) : 'assets/no-image.png'"
                    alt="{{ p.productName }}" class="product-thumb" />

                <!-- âœ… SOLD badge -->
                <div *ngIf="p.sold" class="sold-badge">SOLD</div>
            </div>

            <h3>{{ p.productName }}</h3>
            <p>{{ p.price | currency:'RSD':'symbol':'1.0-0' }}</p>
            <button (click)="viewProduct(p.idProduct)">View</button>
        </div>
    </div>
</div>