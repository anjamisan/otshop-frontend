<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary px-3">

        <div class="container-fluid">

            <!-- Left side -->
            <div class="navbar-nav me-auto">

                <a class="nav-link" [routerLink]="(currentUser$ | async)?.admin ? '/admin' : '/'">
                    Home
                </a>

                <ng-container *ngIf="!((currentUser$ | async)?.admin)">
                    <a class="nav-link" routerLink="/my-purchases">My purchases</a>
                    <a class="nav-link" routerLink="/my-favourites">Liked products</a>
                </ng-container>

            </div>

            <!-- Right side -->
            <div class="d-flex align-items-center">

                <!-- Child component (user profile card) -->
                <app-user-card *ngIf="(currentUser$ | async) as user; else notLoggedIn" [user]="user"
                    (logout)="onLogout()">
                </app-user-card>

                <!-- Not logged in -->
                <ng-template #notLoggedIn>
                    <div class="d-flex gap-3">
                        <a class="btn btn-outline-light btn-sm" routerLink="/signup">Sign up</a>
                        <a class="btn btn-light btn-sm" routerLink="/login">Login</a>
                    </div>
                </ng-template>

            </div>

        </div>

    </nav>
</header>

<main class="container mt-3">
    <router-outlet></router-outlet>
</main>

<footer class="text-center text-muted mt-4">
    <small>Â© 2025 Online Thrift Shop</small>
</footer>